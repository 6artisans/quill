<!DOCTYPE html>
<html>
  <head>
    <title>Keyboard Module - Quill</title>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="language" content="english">
<meta name="viewport" content="width=device-width">

<meta name="description" content="Quill is a free, open source WYSIWYG editor built for the modern web. With its modular architecture and expressive API, it is completely customizable to fit any need.">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@quilljs">

<meta name="twitter:title" content="Keyboard Module - Quill">

<meta name="twitter:description" content="Quill is a free, open source WYSIWYG editor built for the modern web.">
<meta name="twitter:image" content="http://quilljs.com/assets/images/brand-asset.png">
<meta property="og:type" content="website">
<meta property="og:url" content="http://quilljs.com/docs/modules/keyboard/">
<meta property="og:image" content="http://quilljs.com/assets/images/brand-asset.png">
<meta property="og:title" content="Keyboard Module - Quill">
<meta property="og:site_name" content="Quill">
<link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
<link type="application/atom+xml" rel="alternate" href="https://quilljs.com/feed.xml" title="Quill - Your powerful, rich text editor" />
    <link rel="stylesheet" href="/assets/css/base.css">
    
    
      
      
    
      
      
        <link href="https://fonts.googleapis.com/css?family=Inconsolata">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css">
      
    
      
      
    
    <link rel="stylesheet" href="/assets/css/styles.css">
    <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-19077541-2', 'auto');
  ga('send', 'pageview');
</script>
<script type="text/javascript">
  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
  heap.load("1135832181");
</script>
  </head>
  <body>
    <header>
  <nav class="navbar-drop">
    <button class="navbar-close"></button>
    <ul>
      <li class="navbar-item">
        <a class="navbar-link" href="/docs/quickstart/">Documentation</a>
      </li>
      <li class="navbar-item">
        <a class="navbar-link" href="/guides/why-quill/">Guides</a>
      </li>
      <li class="navbar-item">
        <a class="navbar-link" href="/playground/">Playground</a>
      </li>
      <li class="navbar-item">
        <a class="navbar-link" href="/blog/">Blog</a>
      </li>
      <li class="navbar-item">
        <span class="github-button dark-bg">
  <a class="github-action" target="_blank" title="Star Quill on Github" href="https://github.com/quilljs/quill/">
    <svg viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.3 6.53 5.47 7.6.4.06.55-.18.55-.4 0-.18 0-.8 0-1.48-2.02.37-2.54-.5-2.7-.94-.1-.23-.48-.94-.82-1.13-.28-.15-.68-.52 0-.53.62 0 1.07.58 1.22.82.72 1.2 1.87.87 2.33.66.07-.52.28-.87.5-1.07-1.77-.2-3.63-.9-3.63-3.95 0-.87.3-1.6.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.2 2.2.83.64-.18 1.32-.27 2-.27.68 0 1.36.1 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.93.08 2.13.5.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.3.25.54.73.54 1.48 0 1.08 0 1.94 0 2.2 0 .22.15.47.55.4C13.7 14.52 16 11.52 16 8c0-4.42-3.58-8-8-8z"/></svg>
    <span>Star</span>
  </a>
  <a class="github-count" target="_blank" title="Quill Stargazers" href="https://github.com/quilljs/quill/stargazers">8,000</a>
</span>
      </li>
    </ul>
  </nav>
  <nav class="container">
    <ul class="navbar-list">
      <li class="active navbar-item">
        <a class="navbar-link" href="/docs/quickstart/">Documentation</a>
      </li>
      <li class="navbar-item">
        <a class="navbar-link" href="/guides/why-quill/">Guides</a>
      </li>
      <li class="logo-item">
        <a class="logo" href="/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 942 559.9"><style type="text/css">.st0{fill:#1D1E30;}</style><circle cx="749" cy="125.5" r="25.7" class="st0"/><path d="M643.3 211.5c0 21.2 0 76.5 0 91.8 0 19.5-3.5 90.9-76.1 90.9-75.9 0-74.3-71.3-74.3-98.8 0-23.4 0-70.4 0-83.8h-39v94.1s-8.1 128.5 111.3 128.5c119.4 0 115.4-124.5 115.4-124.5v-98.2h-37.3zM816.5 45.2H855v378.5h-38.5zM504 472.7c-79.4 0-194.9-12-268.3-12.8-12.2 0-23 1.5-32.6 3.9l13-11.6c14.3-12.9 37.6-20.9 43.4-22 94.4-18.6 164.8-93.7 164.8-212.8C424.3 83.2 329.3 0 212.1 0S0 76.9 0 217.3c0 126.8 84.9 208 193.1 216.5 0 0 5.7.1 6.4 3.6.6 3.1-4.8 7.6-4.8 7.6l-64.4 59.6 12.4 13.4 23.8-21.3c13.3-10.6 35.1-23.6 62.1-23.6 89.3 0 188.2 89.1 280.1 86.9 134.4-3.2 165.7-93 169.1-104.6.2-.4-55.6 17.3-173.8 17.3zM39.4 217.3c0-114.3 77.3-177 172.8-177 95.4 0 172.8 67.7 172.8 177 0 112.6-77.3 177-172.8 177-95.5-.1-172.8-67.8-172.8-177zM903.5 45.2H942v378.5h-38.5zM729.5 211.1H768v212.5h-38.5z" class="st0"/></svg></a>
      </li>
      <li class="navbar-item">
        <a class="navbar-link" href="/playground/">Playground</a>
      </li>
      <li class="navbar-item">
        <a class="navbar-link" href="/blog/">Blog</a>
      </li>
      <li class="download-item">
        <a class="action" href="/docs/download/">Download</a>
      </li>
    </ul>
  </nav>
  <button class="navbar-open">
    <span></span>
    <span></span>
    <span></span>
  </button>
</header>
    
    
      
        
        
          
        
      
    
      
        
        
      
    
      
        
        
          
          
            <div id="docs-wrapper" class="container">
  <div class="row">
    <div id="sidebar-container" class="three columns">
      <button class="sidebar-button">Document Navigation</button>
      <ul class="sidebar-list">
        <li class="search-item"><input type="text"></li>
        
<li>
  <a href="/docs/quickstart/">Quickstart</a>
  
</li>

<li>
  <a href="/docs/download/">Download</a>
  
</li>

<li>
  <a href="/docs/configuration/">Configuration</a>
  
</li>

<li>
  <a href="/docs/formats/">Formats</a>
  
</li>

<li>
  <a href="/docs/api/">API</a>
  
  <ul>
    
    <li>
      <a href="/docs/api/#content">Content</a>
    </li>
    
    <li>
      <a href="/docs/api/#formatting">Formatting</a>
    </li>
    
    <li>
      <a href="/docs/api/#selection">Selection</a>
    </li>
    
    <li>
      <a href="/docs/api/#editor">Editor</a>
    </li>
    
    <li>
      <a href="/docs/api/#events">Events</a>
    </li>
    
    <li>
      <a href="/docs/api/#model">Model</a>
    </li>
    
    <li>
      <a href="/docs/api/#extension">Extension</a>
    </li>
    
  </ul>
  
</li>

<li>
  <a href="/docs/delta/">Delta</a>
  
</li>

<li class="active">
  <a href="/docs/modules/">Modules</a>
  
  <ul>
    
    <li>
      <a href="/docs/modules/toolbar/">Toolbar</a>
    </li>
    
    <li class="active">
      <a href="/docs/modules/keyboard/">Keyboard</a>
    </li>
    
    <li>
      <a href="/docs/modules/history/">History</a>
    </li>
    
    <li>
      <a href="/docs/modules/clipboard/">Clipboard</a>
    </li>
    
    <li>
      <a href="/docs/modules/formula/">Formula</a>
    </li>
    
    <li>
      <a href="/docs/modules/syntax/">Syntax</a>
    </li>
    
  </ul>
  
</li>

<li>
  <a href="/docs/themes/">Themes</a>
  
</li>

      </ul>
    </div>
    <div id="docs-container" class="nine columns">
      <div class="row">
        <span class="breadcrumb">
          <span>Documentation:</span>
          <span>Modules / Keyboard</span>
        </span>
        <a class="edit-link" href="https://github.com/quilljs/quill/tree/develop/docs/docs/modules/keyboard.md" target="_blank" title="Edit on Github">
          <svg viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.3 6.53 5.47 7.6.4.06.55-.18.55-.4 0-.18 0-.8 0-1.48-2.02.37-2.54-.5-2.7-.94-.1-.23-.48-.94-.82-1.13-.28-.15-.68-.52 0-.53.62 0 1.07.58 1.22.82.72 1.2 1.87.87 2.33.66.07-.52.28-.87.5-1.07-1.77-.2-3.63-.9-3.63-3.95 0-.87.3-1.6.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.2 2.2.83.64-.18 1.32-.27 2-.27.68 0 1.36.1 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.93.08 2.13.5.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.3.25.54.73.54 1.48 0 1.08 0 1.94 0 2.2 0 .22.15.47.55.4C13.7 14.52 16 11.52 16 8c0-4.42-3.58-8-8-8z"/></svg>
          <span>Edit on Github</span>
        </a>
      </div>
      <hr>
      <div id="content-container">
        
        <h1 id="keyboard module">Keyboard Module</h1>
        <p>The Keyboard module enables custom behavior for keyboard events in particular contexts. Quill uses this to bind formatting hotkeys and prevent undesirable browser side effects.</p>

<h3 id="key-bindings">Key Bindings</h3>

<p>Keyboard handlers are bound to a particular key and key modifiers. The <code class="highlighter-rouge">key</code> is the JavaScript event key code, but string shorthands are allowed for alphanumeric keys and some common keys.</p>

<p>Key modifiers include: <code class="highlighter-rouge">metaKey</code>, <code class="highlighter-rouge">ctrlKey</code>, <code class="highlighter-rouge">shiftKey</code> and <code class="highlighter-rouge">altKey</code>. In addition, <code class="highlighter-rouge">shortKey</code> is a platform specific modifier equivalent to <code class="highlighter-rouge">metaKey</code> on a Mac and <code class="highlighter-rouge">ctrlKey</code> on Linux and Windows.</p>

<p>Handlers will be called with <code class="highlighter-rouge">this</code> bound to the keyboard instance and be passed the current selection range.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">quill</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addBinding</span><span class="p">({</span>
  <span class="na">key</span><span class="p">:</span> <span class="s1">'B'</span><span class="p">,</span>
  <span class="na">shortKey</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">range</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">quill</span><span class="p">.</span><span class="nx">formatText</span><span class="p">(</span><span class="nx">range</span><span class="p">,</span> <span class="s1">'bold'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// addBinding may also be called with one parameter,</span>
<span class="c1">// in the same form as in initialization</span>
<span class="nx">quill</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addBinding</span><span class="p">({</span>
  <span class="na">key</span><span class="p">:</span> <span class="s1">'B'</span><span class="p">,</span>
  <span class="na">shortKey</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">handler</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">range</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>

  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
</div>

<p>If a modifier key is <code class="highlighter-rouge">false</code>, it is assumed to mean that modifier is not active. You may also pass <code class="highlighter-rouge">null</code> to mean any value for the modifier.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// Only b with no modifier will trigger</span>
<span class="nx">quill</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addBinding</span><span class="p">({</span> <span class="na">key</span><span class="p">:</span> <span class="s1">'B'</span> <span class="p">},</span> <span class="nx">handler</span><span class="p">);</span>

<span class="c1">// Only shift+b will trigger</span>
<span class="nx">quill</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addBinding</span><span class="p">({</span> <span class="na">key</span><span class="p">:</span> <span class="s1">'B'</span><span class="p">,</span> <span class="na">shiftKey</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="nx">handler</span><span class="p">);</span>

<span class="c1">// Either b or shift+b will trigger</span>
<span class="nx">quill</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addBinding</span><span class="p">({</span> <span class="na">key</span><span class="p">:</span> <span class="s1">'B'</span><span class="p">,</span> <span class="na">shiftKey</span><span class="p">:</span> <span class="kc">null</span> <span class="p">},</span> <span class="nx">handler</span><span class="p">);</span>

</code></pre>
</div>

<p>Multiple handlers may be bound to the same key and modifier combination. Handlers will be called synchronously, in the order they were bound. By default, a handler stops propagating to the next handler, unless it explicitly returns <code class="highlighter-rouge">true</code>.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">quill</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addBinding</span><span class="p">({</span> <span class="na">key</span><span class="p">:</span> <span class="s1">'tab'</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">range</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// I will normally prevent handlers of the tab key</span>
  <span class="c1">// Return true to let later handlers be called</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">});</span>
</code></pre>
</div>

<p>Note: Since Quill’s default handlers are added at initialization, the only way to prevent them is to add yours in the <a href="#configuration">configuration</a>.</p>

<h3 id="context">Context</h3>

<p>Contexts enable further specification for handlers to be called only in particular scenarios. Regardless if context is specified, a context object is provided as a second parameter for all handlers.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// If the user hits backspace at the beginning of list or blockquote,</span>
<span class="c1">// remove the format instead delete any text</span>
<span class="nx">quill</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addBinding</span><span class="p">({</span> <span class="na">key</span><span class="p">:</span> <span class="nx">Keyboard</span><span class="p">.</span><span class="nx">keys</span><span class="p">.</span><span class="nx">BACKSPACE</span> <span class="p">},</span> <span class="p">{</span>
  <span class="na">collapsed</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">format</span><span class="p">:</span> <span class="p">[</span><span class="s1">'blockquote'</span><span class="p">,</span> <span class="s1">'list'</span><span class="p">],</span>
  <span class="na">offset</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">range</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">format</span><span class="p">.</span><span class="nx">list</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">quill</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">'list'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">quill</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">'blockquote'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="collapsed">collapsed</h4>

<p>If <code class="highlighter-rouge">true</code>, handler is called only if the user’s selection is collapsed, i.e. in cursor form. If <code class="highlighter-rouge">false</code>, the users’s selection must be non-zero length, such as when the user has highlighted text.</p>

<h4 id="empty">empty</h4>

<p>If <code class="highlighter-rouge">true</code>, called only if user’s selection is on an empty line, <code class="highlighter-rouge">false</code> for a non-empty line. Note setting empty to be true implies collapsed is also true and offset is 0—otherwise the user’s selection would not be on an empty line.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// If the user hits enter on an empty list, remove the list instead</span>
<span class="nx">quill</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addBinding</span><span class="p">({</span> <span class="na">key</span><span class="p">:</span> <span class="nx">Keyboard</span><span class="p">.</span><span class="nx">keys</span><span class="p">.</span><span class="nx">ENTER</span> <span class="p">},</span> <span class="p">{</span>
  <span class="na">empty</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>    <span class="c1">// implies collapsed: true and offset: 0</span>
  <span class="na">format</span><span class="p">:</span> <span class="p">[</span><span class="s1">'list'</span><span class="p">]</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">range</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">quill</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">'list'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="format">format</h4>

<p>When an Array, handler will be called if <em>any</em> of the specified formats are active. When an Object, <em>all</em> specified formats conditions must be met. In either case, the context parameter will be an Object of all current active formats, the same returned by <code class="highlighter-rouge">quill.getFormat()</code>.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">format</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">list</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>       <span class="c1">// must be on a list, but can be any value</span>
    <span class="na">script</span><span class="p">:</span> <span class="s1">'super'</span><span class="p">,</span>  <span class="c1">// must be exactly 'super', 'sub' will not suffice</span>
    <span class="na">link</span><span class="p">:</span> <span class="kc">false</span>       <span class="c1">// cannot be in any link</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre>
</div>

<h4 id="offset">offset</h4>

<p>Handler will be only called when the user’s selection starts <code class="highlighter-rouge">offset</code> characters from the beginning of the line. Note this is before printable keys have been applied. This is useful in combination with other context specifications.</p>

<h4 id="prefix">prefix</h4>

<p>Regex that must match the text immediately preceding the user’s selection’s start position. The text will not match cross format boundaries. The supplied <code class="highlighter-rouge">context.prefix</code> value will be the entire immediately preceding text, not just the regex match.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="c1">// When the user types space...</span>
<span class="nx">quill</span><span class="p">.</span><span class="nx">keyboard</span><span class="p">.</span><span class="nx">addBinding</span><span class="p">({</span> <span class="na">key</span><span class="p">:</span> <span class="s1">' '</span> <span class="p">},</span> <span class="p">{</span>
  <span class="na">collapsed</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">format</span><span class="p">:</span> <span class="p">{</span> <span class="na">list</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span>  <span class="c1">// ...on an line that's not already a list</span>
  <span class="na">prefix</span><span class="p">:</span> <span class="sr">/^-$/</span><span class="p">,</span>            <span class="c1">// ...following a '-' character</span>
  <span class="na">offset</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                <span class="c1">// ...at the 1st position of the line,</span>
                            <span class="c1">// otherwise handler would trigger if the user</span>
                            <span class="c1">// typed hyphen+space mid sentence</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">range</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// the space character is consumed by this handler</span>
  <span class="c1">// so we only need to delete the hyphen</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">quill</span><span class="p">.</span><span class="nx">deleteText</span><span class="p">(</span><span class="nx">range</span><span class="p">.</span><span class="nx">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
  <span class="c1">// apply bullet formatting to the line</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">quill</span><span class="p">.</span><span class="nx">formatLine</span><span class="p">(</span><span class="nx">range</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'list'</span><span class="p">,</span> <span class="s1">'bullet'</span><span class="p">);</span>
  <span class="c1">// restore selection</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">quill</span><span class="p">.</span><span class="nx">setSelection</span><span class="p">(</span><span class="nx">range</span><span class="p">.</span><span class="nx">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>

  <span class="c1">// console.log(context.prefix) would print '-'</span>
<span class="p">});</span>
</code></pre>
</div>

<h4 id="suffix">suffix</h4>

<p>The same as <a href="#prefix"><code class="highlighter-rouge">prefix</code></a> except matching text immediately following the user’s selection’s end position.</p>

<h3 id="configuration">Configuration</h3>

<p>By default, Quill comes with several useful key bindings, for example indenting lists with tabs. You can add your own upon initization.</p>

<p>Some bindings are essential to preventing dangerous browser defaults, such as the enter and backspace keys. You cannot remove these bindings to revert to native browser behaviors. However since bindings specified in the configuration will run before Quill’s defaults, you can handle special cases and propagate to Quill’s otherwise.</p>

<p>Adding a binding with <code class="highlighter-rouge">quill.keyboard.addBinding</code> will not run before Quill’s because the defaults bindings will have been added by that point.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">bindings</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// This will overwrite the default binding also named 'tab'</span>
  <span class="na">tab</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">key</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="na">handler</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// Handle tab</span>
    <span class="p">}</span>
  <span class="p">},</span>

  <span class="c1">// There is no default binding named 'custom'</span>
  <span class="c1">// so this will be added without overwriting anything</span>
  <span class="na">custom</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">key</span><span class="p">:</span> <span class="s1">'B'</span><span class="p">,</span>
    <span class="na">shiftKey</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">handler</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">range</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Handle shift+b</span>
    <span class="p">}</span>
  <span class="p">},</span>

  <span class="na">list</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">key</span><span class="p">:</span> <span class="s1">'backspace'</span><span class="p">,</span>
    <span class="na">context</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">format</span><span class="p">:</span> <span class="p">[</span><span class="s1">'list'</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="na">handler</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">range</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">offset</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// When backspace on the first character of a list,</span>
        <span class="c1">// remove the list instead</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">quill</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s1">'list'</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">Quill</span><span class="p">.</span><span class="nx">sources</span><span class="p">.</span><span class="nx">USER</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Otherwise propogate to Quill's default</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">quill</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Quill</span><span class="p">(</span><span class="s1">'#editor'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">modules</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">keyboard</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">bindings</span><span class="p">:</span> <span class="nx">bindings</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
</div>

<h3 id="peformance">Peformance</h3>

<p>Like DOM events, Quill key bindings are blocking calls on every match, so it is a bad idea to have a very expensive handler for a very common key binding. Apply the same performance best practices as you would when attaching to common blocking DOM events, like <code class="highlighter-rouge">scroll</code> or <code class="highlighter-rouge">mousemove</code>.</p>

      </div>
      <div class="row" id="pagination-container">
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
          
          
            <a class="prev" href="/docs/modules/toolbar/">
              <span class="label">Toolbar</span>
              <span class="arrow">
                <span class="tip"></span>
                <span class="shaft"></span>
              </span>
            </a>
          
          
            <a class="next" href="/docs/modules/history/">
              <span class="label">History</span>
              <span class="arrow">
                <span class="tip"></span>
                <span class="shaft"></span>
              </span>
            </a>
          
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
      </div>
    </div>
  </div>

  <div class="row">
    <hr>
  </div>

  <div class="feature row">
  <div class="six columns details">
    <h2>An Open Source Project</h2>
    <span>Quill is permissively licensed under BSD. Use it freely in personal or commercial projects. Join the growing community on Github!</span>
    <div>
    <span class="github-button">
  <a class="github-action" target="_blank" title="Star Quill on Github" href="https://github.com/quilljs/quill/">
    <svg viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.3 6.53 5.47 7.6.4.06.55-.18.55-.4 0-.18 0-.8 0-1.48-2.02.37-2.54-.5-2.7-.94-.1-.23-.48-.94-.82-1.13-.28-.15-.68-.52 0-.53.62 0 1.07.58 1.22.82.72 1.2 1.87.87 2.33.66.07-.52.28-.87.5-1.07-1.77-.2-3.63-.9-3.63-3.95 0-.87.3-1.6.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.2 2.2.83.64-.18 1.32-.27 2-.27.68 0 1.36.1 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.93.08 2.13.5.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.3.25.54.73.54 1.48 0 1.08 0 1.94 0 2.2 0 .22.15.47.55.4C13.7 14.52 16 11.52 16 8c0-4.42-3.58-8-8-8z"/></svg>
    <span>Star</span>
  </a>
  <a class="github-count" target="_blank" title="Quill Stargazers" href="https://github.com/quilljs/quill/stargazers">8,000</a>
</span>
    </div>
  </div>
  <img class="six columns" src="/assets/images/features/open-source.svg">
</div>
</div>
          
        
          
          
        
          
          
            
          
        
      
    
    <footer>
  <div class="container">
    <div class="logo row"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 942 559.9"><style type="text/css">.st0{fill:#1D1E30;}</style><circle cx="749" cy="125.5" r="25.7" class="st0"/><path d="M643.3 211.5c0 21.2 0 76.5 0 91.8 0 19.5-3.5 90.9-76.1 90.9-75.9 0-74.3-71.3-74.3-98.8 0-23.4 0-70.4 0-83.8h-39v94.1s-8.1 128.5 111.3 128.5c119.4 0 115.4-124.5 115.4-124.5v-98.2h-37.3zM816.5 45.2H855v378.5h-38.5zM504 472.7c-79.4 0-194.9-12-268.3-12.8-12.2 0-23 1.5-32.6 3.9l13-11.6c14.3-12.9 37.6-20.9 43.4-22 94.4-18.6 164.8-93.7 164.8-212.8C424.3 83.2 329.3 0 212.1 0S0 76.9 0 217.3c0 126.8 84.9 208 193.1 216.5 0 0 5.7.1 6.4 3.6.6 3.1-4.8 7.6-4.8 7.6l-64.4 59.6 12.4 13.4 23.8-21.3c13.3-10.6 35.1-23.6 62.1-23.6 89.3 0 188.2 89.1 280.1 86.9 134.4-3.2 165.7-93 169.1-104.6.2-.4-55.6 17.3-173.8 17.3zM39.4 217.3c0-114.3 77.3-177 172.8-177 95.4 0 172.8 67.7 172.8 177 0 112.6-77.3 177-172.8 177-95.5-.1-172.8-67.8-172.8-177zM903.5 45.2H942v378.5h-38.5zM729.5 211.1H768v212.5h-38.5z" class="st0"/></svg></div>
    <h1>Your powerful, rich text editor.</h1>
    <div class="actions row">
      <a href="/docs/" class="action documentation">Documentation</a>
      <a href="/docs/download/" class="action">
        Download v
      </a>
    </div>
    <div class="users row">
      <h3>Trusted By</h3>
    </div>
  </div>
</footer>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    
    
      
      
    
      
      
        <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {
  $('h1, h2, h3, h4', $('#docs-container')).each(function(i, h) {
    if (!h.id) return;
    $('<a class="anchor" href="#' + h.id + '"></a>').prependTo($(h));
  });
  $('#sidebar-container .sidebar-button').click(function() {
    $('#sidebar-container').toggleClass('active');
  });
  docsearch({
    apiKey: '281facf513620e95600126795a00ab6c',
    indexName: 'quilljs',
    inputSelector: '.search-item input',
    debug: false
  });
});
</script>
      
    
      
      
    
    <script type="text/javascript">
    $(document).ready(function() {
      $('.navbar-open').click(function() {
        $('.navbar-drop').addClass('active');
      });
      $('.navbar-close').click(function() {
        $('.navbar-drop').removeClass('active');
      });

      var counts = $('.github-count');
      if (counts.length > 0) {
        $.getJSON('https://api.github.com/search/repositories?q=quill+user:quilljs+repo:quill&sort=stars&order=desc', function(data) {
          if (data.items && data.items[0].full_name === 'quilljs/quill') {
            counts.text(data.items[0].stargazers_count.toLocaleString());
          }
        });
      }
    });
    </script>
    </div>
  </body>
</html>
